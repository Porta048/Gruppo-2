<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="../assets/css/reset.css" />
    <link rel="stylesheet" href="../assets/css/feedback-style.css" />
    <title>Epicode</title>
  </head>
  <body>
    <header>
      <div id="logo">
        <!--Here goes The Epicode Logo-->
        <img src="../assets/image/epicode_logo.png" alt="epicode-logo" />
      </div>
    </header>

    <main>
      <div id="container">
        <h1>Tell us how it's going</h1>
        <form>
          <p>
            From 0 to 10, how likely are you to reccomend EPICODE <br />
            to a friend or a colleague ?
          </p>
          <!-- QUESTO Ã¨ IL RANGE DI RIFERIMENTO NASCOSTO -->
          <div id="svg-slider">
            <input
              type="range"
              value="5"
              min="0"
              max="10"
              step="1"
              id="custom-range" />
            <!-- QUI VANNO LE STELLINE -->
            <div class="svg-steps">
              <img src="../assets/image/star.svg" data-step="0" />
              <img src="../assets/image/star.svg" data-step="1" />
              <img src="../assets/image/star.svg" data-step="2" />
              <img src="../assets/image/star.svg" data-step="3" />
              <img src="../assets/image/star.svg" data-step="4" />
              <img src="../assets/image/star.svg" data-step="5" />
              <img src="../assets/image/star.svg" data-step="6" />
              <img src="../assets/image/star.svg" data-step="7" />
              <img src="../assets/image/star.svg" data-step="8" />
              <img src="../assets/image/star.svg" data-step="9" />
            </div>
          </div>

          <p>Leave us an open feedback about your experience so far</p>

          <input
            id="text"
            type="text"
            placeholder="Write your comment here"
            required />

          <button id="goToEpicode">MORE INFO</button>
        </form>
      </div>
    </main>
    <script>
      // Inseriamo lo script direttamente qui per evitare errori dal file esterno.
      document.addEventListener('DOMContentLoaded', () => {
        const stars = document.querySelectorAll('.svg-steps img');
        
        if (stars.length > 0) {
          stars.forEach(star => {
            star.addEventListener('click', () => {
              const clickedStarStep = parseInt(star.dataset.step, 10);
              stars.forEach(s => {
                const currentStarStep = parseInt(s.dataset.step, 10);
                if (currentStarStep <= clickedStarStep) {
                  s.classList.add('active');
                } else {
                  s.classList.remove('active');
                }
              });
            });
          });
        }

        const moreInfoButton = document.getElementById('goToEpicode');
        
        if (moreInfoButton) {
          moreInfoButton.addEventListener('click', (event) => {
            event.preventDefault(); 
            window.open('https://epicode.com/it/', '_blank');
          });
        }
      });
    </script>
  </body>
</html>
